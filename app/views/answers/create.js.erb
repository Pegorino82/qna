document
    .querySelector('.answer_errors')
    .innerHTML = '<%= render 'shared/errors', resource: @answer %>'

<% if @answer.persisted? %>
  document
      .querySelector('.answers')
      .insertAdjacentHTML('beforeend', '<%= j render @answer, answer_class: @answer.best? ? 'best_answer' : nil %>')
  document.querySelector('.new-answer #answer_body').value = '';
  document.querySelectorAll('.new-answer #answer_links .nested-fields').forEach(elem => {
      elem.parentNode.removeChild(elem)
  });
<% end %>
